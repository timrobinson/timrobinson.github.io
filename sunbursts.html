<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Microbiome Sunbursts — Clean</title>
  <!-- ECharts -->
  <script src="https://assets.pyecharts.org/assets/v5/echarts.min.js"></script>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: transparent;
    }

    /* Wrap both charts, centered */
    .box {
      display: flex;
      justify-content: center;      /* center the pair */
      align-items: stretch;
      gap: 100px;                    /* space between charts */
      height: 100%;
      padding: 12px 24px 16px;      /* breathing room */
      box-sizing: border-box;
    }

    /* One column (plot + subtitle) */
    .chart {
      display: flex;
      flex-direction: column;
      align-items: center;
      min-width: 320px;
      max-width: 45vw;              /* prevents edge-to-edge */
      flex: 1 1 0;
    }

    /* Square plotting area that grows */
    .chart-container {
      width: 100%;
      aspect-ratio: 1 / 1;          /* keep sunburst square */
      background: transparent;
      position: relative;
    }

    /* ECharts canvas stretches to container */
    .chart-container canvas {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
    }

    /* Subtitles below each chart */
	.subtitle {
		margin-top: 10px;
		text-align: center;
		line-height: 1.2;
		color: indigo;                 /* <- change */
		font: 18px/1.2 system-ui, sans-serif;
}
    
  </style>
</head>
<body>

  <div class="box">
    <div class="chart">
      <div id="chartHealthy" class="chart-container"></div>
      <div class="subtitle">Healthy Gut Microbiome</div>
    </div>

    <div class="chart">
      <div id="chartPD" class="chart-container"></div>
      <div class="subtitle">Parkinson’s Disease Microbiome</div>
    </div>
  </div>

  <script>
    // Init charts
    const chartHealthy = echarts.init(
      document.getElementById('chartHealthy'),
      'white',
      { renderer: 'canvas', backgroundColor: 'transparent' }
    );
    const chartPD = echarts.init(
      document.getElementById('chartPD'),
      'white',
      { renderer: 'canvas', backgroundColor: 'transparent' }
    );

    // ==== HEALTHY OPTION (your full object, unchanged) ====
    const optionHealthy = {
      "animation": true,
      "animationThreshold": 2000,
      "animationDuration": 1000,
      "animationEasing": "cubicOut",
      "animationDelay": 0,
      "animationDurationUpdate": 300,
      "animationEasingUpdate": "cubicOut",
      "animationDelayUpdate": 0,
      "aria": { "enabled": false },
      "color": [
        "#5470c6","#91cc75","#fac858","#ee6666",
        "#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"
      ],
      "series": [
        {
          "type": "sunburst",
          "name": "Healthy",
          "data": [
            {
              "name": "Firmicutes",
              "value": 40,
              "itemStyle": { "opacity": 1 },
              "children": [
                { "name": "Faecalibacterium", "value": 8, "itemStyle": { "opacity": 1 } },
                { "name": "Roseburia", "value": 6, "itemStyle": { "opacity": 1 } },
                { "name": "Ruminococcus", "value": 4, "itemStyle": { "opacity": 1 } },
                { "name": "Blautia", "value": 4, "itemStyle": { "opacity": 1 } },
                { "name": "Eubacterium", "value": 4, "itemStyle": { "opacity": 1 } },
                { "name": "Clostridium (IV/XIVa)", "value": 4, "itemStyle": { "opacity": 1 } },
                { "name": "Anaerostipes", "value": 3, "itemStyle": { "opacity": 1 } },
                { "name": "Lactobacillus", "value": 3, "itemStyle": { "opacity": 1 } },
                { "name": "Dorea", "value": 2, "itemStyle": { "opacity": 1 } },
                { "name": "Coprococcus", "value": 2, "itemStyle": { "opacity": 1 } }
              ]
            },
            {
              "name": "Bacteroidetes",
              "value": 30,
              "itemStyle": { "opacity": 0.1 },
              "children": [
                { "name": "Bacteroides", "value": 15, "itemStyle": { "opacity": 0.1 } },
                { "name": "Prevotella", "value": 7.5, "itemStyle": { "opacity": 0.1 } },
                { "name": "Alistipes", "value": 4.5, "itemStyle": { "opacity": 0.1 } },
                { "name": "Parabacteroides", "value": 3, "itemStyle": { "opacity": 0.1 } }
              ]
            },
            {
              "name": "Actinobacteria",
              "value": 10,
              "itemStyle": { "opacity": 0.1 },
              "children": [
                { "name": "Bifidobacterium", "value": 4, "itemStyle": { "opacity": 0.1 } },
                { "name": "Collinsella", "value": 2, "itemStyle": { "opacity": 0.1 } },
                { "name": "Eggerthella", "value": 1, "itemStyle": { "opacity": 0.1 } },
                { "name": "Gordonibacter", "value": 1, "itemStyle": { "opacity": 0.1 } },
                { "name": "Slackia", "value": 1, "itemStyle": { "opacity": 0.1 } },
                { "name": "Adlercreutzia", "value": 1, "itemStyle": { "opacity": 0.1 } }
              ]
            },
            {
              "name": "Proteobacteria",
              "value": 10,
              "itemStyle": { "opacity": 1, "color": "#e57373" },
              "children": [
                { "name": "Escherichia", "value": 2, "itemStyle": { "opacity": 1, "color": "#e57373" } },
                { "name": "Enterobacter", "value": 1.5, "itemStyle": { "opacity": 1, "color": "#e57373" } },
                { "name": "Klebsiella", "value": 1.5, "itemStyle": { "opacity": 1, "color": "#e57373" } },
                { "name": "Bilophila", "value": 1, "itemStyle": { "opacity": 1, "color": "#e57373" } },
                { "name": "Desulfovibrio", "value": 1, "itemStyle": { "opacity": 1, "color": "#e57373" } },
                { "name": "Sutterella", "value": 1, "itemStyle": { "opacity": 1, "color": "#e57373" } },
                { "name": "Helicobacter", "value": 1, "itemStyle": { "opacity": 1, "color": "#e57373" } },
                { "name": "Citrobacter", "value": 1, "itemStyle": { "opacity": 1, "color": "#e57373" } }
              ]
            },
            {
              "name": "Verrucomicrobia",
              "value": 5,
              "itemStyle": { "opacity": 0.1 },
              "children": [
                { "name": "Akkermansia", "value": 4.5, "itemStyle": { "opacity": 0.1 } },
                { "name": "Verrucomicrobium", "value": 0.5, "itemStyle": { "opacity": 0.1 } }
              ]
            },
            {
              "name": "Fusobacteria",
              "value": 5,
              "itemStyle": { "opacity": 0.1 },
              "children": [
                { "name": "Fusobacterium", "value": 3.5, "itemStyle": { "opacity": 0.1 } },
                { "name": "Leptotrichia", "value": 1, "itemStyle": { "opacity": 0.1 } },
                { "name": "Selenomonas", "value": 0.5, "itemStyle": { "opacity": 0.1 } }
              ]
            }
          ],
          "center": ["50%","60%"],
          "radius": [0,"90%"],
          "highlightPolicy": "descendant",
          "nodeClick": "rootToNode",
          "sort": "desc",
          "renderLabelForZeroData": false,
          "clockwise": true,
          "startAngle": 90,
          "label": { "show": true, "color": "indigo", "margin": 8, "valueAnimation": false },
          "rippleEffect": { "show": true, "brushType": "stroke", "scale": 2.5, "period": 4 }
        }
      ],
      "legend": [{ "data": [], "selected": {}, "show": false }],
      "tooltip": {
        "show": true, "trigger": "item", "triggerOn": "mousemove|click",
        "axisPointer": { "type": "line" }, "showContent": true,
        "alwaysShowContent": false, "showDelay": 0, "hideDelay": 100,
        "enterable": false, "confine": false, "appendToBody": false,
        "transitionDuration": 0.4, "textStyle": { "fontSize": 14 },
        "borderWidth": 0, "padding": 5, "order": "seriesAsc"
      },
      "title": [
        { "show": true, "text": "Healthy Gut Microbiome", "top": 100,
          "textStyle": { "color": "indigo" } }
      ]
    };

    // ==== PD OPTION (your full object, unchanged) ====
    const optionPD = {
      "animation": true,
      "animationThreshold": 2000,
      "animationDuration": 1000,
      "animationEasing": "cubicOut",
      "animationDelay": 0,
      "animationDurationUpdate": 300,
      "animationEasingUpdate": "cubicOut",
      "animationDelayUpdate": 0,
      "aria": { "enabled": false },
      "color": [
        "#5470c6","#91cc75","#fac858","#ee6666",
        "#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"
      ],
      "series": [
        {
          "type": "sunburst",
          "name": "Parkinson\u2019s Gut",
          "data": [
            {
              "name": "Firmicutes",
              "value": 30,
              "itemStyle": { "opacity": 1 },
              "children": [
                { "name": "Faecalibacterium", "value": 3, "itemStyle": { "opacity": 1 } },
                { "name": "Roseburia", "value": 2.4, "itemStyle": { "opacity": 1 } },
                { "name": "Ruminococcus", "value": 1.5, "itemStyle": { "opacity": 1 } },
                { "name": "Blautia", "value": 2.4, "itemStyle": { "opacity": 1 } },
                { "name": "Eubacterium", "value": 2.4, "itemStyle": { "opacity": 1 } },
                { "name": "Clostridium (IV/XIVa)", "value": 2.1, "itemStyle": { "opacity": 1 } },
                { "name": "Anaerostipes", "value": 1.5, "itemStyle": { "opacity": 1 } },
                { "name": "Lactobacillus", "value": 1.5, "itemStyle": { "opacity": 1 } },
                { "name": "Dorea", "value": 0.6, "itemStyle": { "opacity": 1 } },
                { "name": "Coprococcus", "value": 0.6, "itemStyle": { "opacity": 1 } }
              ]
            },
            {
              "name": "Bacteroidetes",
              "value": 25,
              "itemStyle": { "opacity": 0.1 },
              "children": [
                { "name": "Bacteroides", "value": 11.25, "itemStyle": { "opacity": 0.1 } },
                { "name": "Prevotella", "value": 6.25, "itemStyle": { "opacity": 0.1 } },
                { "name": "Alistipes", "value": 5, "itemStyle": { "opacity": 0.1 } },
                { "name": "Parabacteroides", "value": 2.5, "itemStyle": { "opacity": 0.1 } }
              ]
            },
            {
              "name": "Actinobacteria",
              "value": 10,
              "itemStyle": { "opacity": 0.1 },
              "children": [
                { "name": "Bifidobacterium", "value": 4, "itemStyle": { "opacity": 0.1 } },
                { "name": "Collinsella", "value": 2, "itemStyle": { "opacity": 0.1 } },
                { "name": "Eggerthella", "value": 1, "itemStyle": { "opacity": 0.1 } },
                { "name": "Gordonibacter", "value": 1, "itemStyle": { "opacity": 0.1 } },
                { "name": "Slackia", "value": 1, "itemStyle": { "opacity": 0.1 } },
                { "name": "Adlercreutzia", "value": 1, "itemStyle": { "opacity": 0.1 } }
              ]
            },
            {
              "name": "Proteobacteria",
              "value": 25,
              "itemStyle": { "opacity": 1 },
              "children": [
                { "name": "Escherichia", "value": 6.25, "itemStyle": { "opacity": 1 } },
                { "name": "Enterobacter", "value": 3.75, "itemStyle": { "opacity": 1 } },
                { "name": "Klebsiella", "value": 3.75, "itemStyle": { "opacity": 1 } },
                { "name": "Bilophila", "value": 2.5, "itemStyle": { "opacity": 1 } },
                { "name": "Desulfovibrio", "value": 2.5, "itemStyle": { "opacity": 1 } },
                { "name": "Sutterella", "value": 2.5, "itemStyle": { "opacity": 1 } },
                { "name": "Helicobacter", "value": 2.5, "itemStyle": { "opacity": 1 } },
                { "name": "Citrobacter", "value": 1.25, "itemStyle": { "opacity": 1 } }
              ]
            },
            {
              "name": "Verrucomicrobia",
              "value": 5,
              "itemStyle": { "opacity": 0.1 },
              "children": [
                { "name": "Akkermansia", "value": 4.75, "itemStyle": { "opacity": 0.1 } },
                { "name": "Verrucomicrobium", "value": 0.25, "itemStyle": { "opacity": 0.1 } }
              ]
            },
            {
              "name": "Fusobacteria",
              "value": 5,
              "itemStyle": { "opacity": 0.1 },
              "children": [
                { "name": "Fusobacterium", "value": 3.5, "itemStyle": { "opacity": 0.1 } },
                { "name": "Leptotrichia", "value": 1, "itemStyle": { "opacity": 0.1 } },
                { "name": "Selenomonas", "value": 0.5, "itemStyle": { "opacity": 0.1 } }
              ]
            }
          ],
          "center": ["50%","60%"],
          "radius": [0,"90%"],
          "highlightPolicy": "descendant",
          "nodeClick": "rootToNode",
          "sort": "desc",
          "renderLabelForZeroData": false,
          "clockwise": true,
          "startAngle": 90,
          "label": { "show": true, "color": "indigo", "margin": 8, "valueAnimation": false },
          "rippleEffect": { "show": true, "brushType": "stroke", "scale": 2.5, "period": 4 }
        }
      ],
      "legend": [{ "data": [], "selected": {}, "show": false }],
      "tooltip": {
        "show": true, "trigger": "item", "triggerOn": "mousemove|click",
        "axisPointer": { "type": "line" }, "showContent": true,
        "alwaysShowContent": false, "showDelay": 0, "hideDelay": 100,
        "enterable": false, "confine": false, "appendToBody": false,
        "transitionDuration": 0.4, "textStyle": { "fontSize": 14 },
        "borderWidth": 0, "padding": 5, "order": "seriesAsc"
      },
      "title": [
        { "show": true, "text": "Parkinson's Disease Microbiome", "top": 100,
          "textStyle": { "color": "indigo" } }
      ]
    };

    // Turn off in-chart titles (we use HTML subtitles)
    optionHealthy.title = [{ show: false }];
    optionPD.title = [{ show: false }];

    // Lift plots a bit & give a touch more radius
    if (optionHealthy.series?.[0]) {
      optionHealthy.series[0].center = ["50%", "52%"];
      optionHealthy.series[0].radius = [0, "92%"];
    }
    if (optionPD.series?.[0]) {
      optionPD.series[0].center = ["50%", "52%"];
      optionPD.series[0].radius = [0, "92%"];
    }

    // Apply
    chartHealthy.setOption(optionHealthy);
    chartPD.setOption(optionPD);

    // Resize
    window.addEventListener('resize', () => {
      chartHealthy.resize();
      chartPD.resize();
    });

    // First paint nudge (helps inside iframes sometimes)
    setTimeout(() => {
      chartHealthy.resize();
      chartPD.resize();
    }, 100);
  </script>
</body>
</html>
